//****************************************************************************************************
//подключаемые библиотеки
//****************************************************************************************************
#include "cmutexobject.h"

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//конструктор и деструктор класса
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//----------------------------------------------------------------------------------------------------
//конструктор
//----------------------------------------------------------------------------------------------------
CMutexObject::CMutexObject(void)
{
 InitializeCriticalSection(&CriticalSection);
}
//----------------------------------------------------------------------------------------------------
//конструктор копирования
//----------------------------------------------------------------------------------------------------
CMutexObject::CMutexObject(const CMutexObject& cMutex)
{
 //нам нужно создать новый мютекс
 InitializeCriticalSection(&CriticalSection);
}
//----------------------------------------------------------------------------------------------------
//деструктор
//----------------------------------------------------------------------------------------------------
CMutexObject::~CMutexObject()
{
 DeleteCriticalSection(&CriticalSection);
}

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//закрытые функции класса
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//----------------------------------------------------------------------------------------------------
//заблокировать мютекс
//----------------------------------------------------------------------------------------------------
void CMutexObject::Lock(void)
{
 EnterCriticalSection(&CriticalSection);
}
//----------------------------------------------------------------------------------------------------
//разблокировать мютекс
//----------------------------------------------------------------------------------------------------
void CMutexObject::Unlock(void)
{
 LeaveCriticalSection(&CriticalSection);
}



